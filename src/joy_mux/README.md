# Joy Mux

PlayStation®ボタンで手動/自動を切り替えられるジョイスティックマルチプレクサ

## 機能

- `/joy` と `/torch_joy` を受信
- PlayStation®ボタンで手動/自動モードを切り替え
- `/mux_joy` として統合されたジョイスティックデータを出力
- `/torch_joy` が利用できない場合は自動的に `/joy` を使用
- 自動モード中にL2ボタンを押すことで手動補正が可能

## 使用方法
```bash
ros2 run joy_mux joy_mux_node
```

## トピック

- **入力**:
  - `/joy` (sensor_msgs/Joy): 手動操作用ジョイスティック
  - `/torch_joy` (sensor_msgs/Joy): 自動操作用ジョイスティック

- **出力**:
  - `/mux_joy` (sensor_msgs/Joy): 統合されたジョイスティックデータ

## モード切り替え

PlayStation®ボタン（通常ボタンインデックス12）を押すことでモードを切り替えます。

### 手動モード
`/joy` のデータをそのまま `/mux_joy` に出力します。

### 自動モード
`/torch_joy` のデータを `/mux_joy` に出力します。

**PS3のL2ボタン（通常ボタンインデックス8）を押している間**は、`/joy` のaxes[0:3]と `/torch_joy` のaxes[0:3]を足し算した値を出力します。これにより自動制御に手動補正を加えることができます。出力値は-1.0〜1.0の範囲に制限されます。